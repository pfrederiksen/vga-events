# Gitleaks configuration for VGA Events

title = "gitleaks config"

# Allowlist test files and test data
[[rules]]
id = "test-encryption-keys"
description = "Test encryption keys are not real secrets"
regex = '''test-encryption-key'''
path = '''(.*_test\.go|.*test.*\.go)'''

[[rules.allowlist]]
description = "Test encryption keys in test files"
paths = [
    '''internal/preferences/gist_test\.go''',
]
regexes = [
    '''test-encryption-key''',
]

# Global allowlists
[allowlist]
description = "Global allowlist"
paths = [
    '''\.gitleaks\.toml''',
    '''go\.sum''',
    '''.*_test\.go''',  # Allow test files
]
regexes = [
    '''test-encryption-key''',  # Allow test encryption keys
]
# Allowlist specific fingerprints (commits with test data)
commits = [
    '''8e46d5deffa3a81199c58a9f52321e27320e49b7''',  # Commit with test encryption key
]
